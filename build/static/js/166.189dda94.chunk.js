"use strict";(self.webpackChunktimpwebapp=self.webpackChunktimpwebapp||[]).push([[166],{7166:(e,r,s)=>{s.r(r),s.d(r,{default:()=>p});s(5043);var a=s(7616),i=s(6161),l=s(3216),d=s(5475),n=s(4858),o=s(5528),t=s(7323),c=s(6337),m=s(9011),u=s(579);const p=function(){const{register:e,handleSubmit:r,reset:s,formState:{errors:p}}=(0,n.mN)({mode:"onChange"}),h=(0,o.MW)(),f=(0,l.Zp)(),x=(0,l.zy)(),j=new URLSearchParams(x.search),{data:N}=(0,m.I)({queryKey:["restaurantList"],queryFn:c.A6,onError:e=>{console.log(e)},select:e=>e.results.list});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.A,{}),(0,u.jsxs)("div",{className:"admin_main",children:[(0,u.jsx)(a.A,{}),(0,u.jsxs)("div",{className:"admin_contentpart",children:[(0,u.jsx)(d.N_,{to:`/admin/deal-management?tab=${j.get("tab")||1}`,className:"comman_btn w-fit",children:(0,u.jsx)("i",{className:"fa fa-arrow-left"})}),(0,u.jsx)("div",{className:"row comman_design mx-0 mt-4",children:(0,u.jsx)("div",{className:"col-12",children:(0,u.jsxs)("div",{className:"row comman_table pt-md-4 pb-md-4 pb-3 px-md-4 px-2",children:[(0,u.jsx)("h3",{className:"mb-3 fs-5 fw-semibold",children:"Add Coupon"}),(0,u.jsx)("form",{className:"form-design",onSubmit:r((async e=>{var r;e.restaurant||(e.restaurant=(null===N||void 0===N||null===(r=N[0])||void 0===r?void 0:r._id)||"");const a=await(0,c.MG)(e);a.error?(0,t.S)(h,a.message,{timeout:3e3}):(f(`/admin/deal-management?tab=${j.get("tab")||1}`),(0,t.S)(h,a.message,{timeout:3e3}),s())})),children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"form-label",children:"Restaurant Name"}),(0,u.jsxs)("select",{className:"form-select",name:"restaurant",id:"restaurant",...e("restaurant",{required:!1}),children:[p.restaurant&&"required"===p.restaurant.type&&(0,u.jsx)("p",{className:"form-error",children:"This field is required"}),null===N||void 0===N?void 0:N.map(((e,r)=>(0,u.jsx)("option",{value:e._id,children:e.name},r)))]})]})}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"form-label",children:"Promo/Coupon Code"}),(0,u.jsx)("input",{type:"text",className:"form-control",name:"coupanCode",id:"coupanCode",...e("coupanCode",{required:!1})}),p.coupanCode&&"required"===p.coupanCode.type&&(0,u.jsx)("p",{className:"form-error",children:"This field is required"})]})}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"form-label",children:"Discount (%)"}),(0,u.jsx)("input",{type:"number",className:"form-control",name:"offerPercentage",id:"offerPercentage",...e("offerPercentage",{required:!0})}),p.offerPercentage&&"required"===p.offerPercentage.type&&(0,u.jsx)("p",{className:"form-error",children:"This field is required"})]})}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"form-label",children:"Validity"}),(0,u.jsx)("input",{type:"date",className:"form-control",name:"validity",id:"validity",...e("validity",{required:!0}),min:(new Date).toISOString().split("T")[0]}),p.validity&&"required"===p.validity.type&&(0,u.jsx)("p",{className:"form-error",children:"This field is required"})]})}),(0,u.jsx)("div",{className:"col-md-12",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"form-label",children:"Description"}),(0,u.jsx)("textarea",{rows:4,className:"form-control",name:"description",id:"description",...e("description",{required:!0})}),p.description&&"required"===p.description.type&&(0,u.jsx)("p",{className:"form-error",children:"This field is required"})]})}),(0,u.jsx)("div",{className:"col-12",children:(0,u.jsx)("button",{type:"submit",className:"comman_btn w-fit",children:"Add Coupon"})})]})})]})})})]})]})]})}}}]);
//# sourceMappingURL=166.189dda94.chunk.js.map