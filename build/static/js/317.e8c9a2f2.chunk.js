"use strict";(self.webpackChunktimpwebapp=self.webpackChunktimpwebapp||[]).push([[317],{5317:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var l=a(5043),n=a(6161),i=a(7616),t=a(579);const c=function(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"col-12",children:(0,t.jsxs)("div",{className:"row align-items-center justify-content-between py-md-4 py-3 px-md-3 px-2",children:[(0,t.jsx)("div",{className:"col-md-auto mb-md-0 mb-3",children:(0,t.jsx)("div",{className:"headleft",children:(0,t.jsx)("h2",{children:"User Subscription Plan"})})}),(0,t.jsxs)("div",{className:"col-md-8 d-flex align-items-center justify-content-end",children:[(0,t.jsxs)("div",{className:"searchh_box position-relative",children:[(0,t.jsx)("input",{className:"form-control",type:"search",placeholder:"Search...."}),(0,t.jsx)("button",{children:(0,t.jsx)("i",{className:"fas fa-search"})})]}),(0,t.jsxs)("div",{className:"dropdown filterdropdown",children:[(0,t.jsx)("button",{className:"btn btn-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,t.jsx)("i",{className:"fas fa-filter"})}),(0,t.jsx)("div",{className:"dropdown-menu",children:(0,t.jsxs)("form",{className:"form-design row mx-0",action:!0,children:[(0,t.jsxs)("div",{className:"col-12 form-group",children:[(0,t.jsx)("label",{htmlFor:!0,children:"Year"}),(0,t.jsxs)("select",{className:"form-select","aria-label":"Default select example",children:[(0,t.jsx)("option",{selected:!0,children:"2001"}),(0,t.jsx)("option",{value:1,children:"2002"}),(0,t.jsx)("option",{value:2,children:"2003"}),(0,t.jsx)("option",{value:2,children:"2004"}),(0,t.jsx)("option",{value:2,children:"2005"}),(0,t.jsx)("option",{value:2,children:"2006"}),(0,t.jsx)("option",{value:2,children:"2007"}),(0,t.jsx)("option",{value:2,children:"2008"}),(0,t.jsx)("option",{value:2,children:"2009"}),(0,t.jsx)("option",{value:2,children:"2010"})]})]}),(0,t.jsxs)("div",{className:"col-12 form-group",children:[(0,t.jsx)("label",{htmlFor:!0,children:"Months"}),(0,t.jsxs)("select",{className:"form-select","aria-label":"Default select example",children:[(0,t.jsx)("option",{selected:!0,children:"Jan"}),(0,t.jsx)("option",{value:1,children:"Feb"}),(0,t.jsx)("option",{value:2,children:"Mar"}),(0,t.jsx)("option",{value:2,children:"Apr"}),(0,t.jsx)("option",{value:2,children:"May"}),(0,t.jsx)("option",{value:2,children:"Jun"}),(0,t.jsx)("option",{value:2,children:"July"}),(0,t.jsx)("option",{value:2,children:"August"}),(0,t.jsx)("option",{value:2,children:"Sep"}),(0,t.jsx)("option",{value:2,children:"Oct"}),(0,t.jsx)("option",{value:2,children:"Nov"}),(0,t.jsx)("option",{value:2,children:"Dec"})]})]})]})})]})]})]})}),(0,t.jsx)("div",{className:"col-12",children:(0,t.jsx)("div",{className:"row comman_table pt-md-3 pb-md-4 pb-3 px-md-3 px-2",children:(0,t.jsx)("div",{className:"col-12",children:(0,t.jsx)("div",{className:"table-responsive",children:(0,t.jsxs)("table",{className:"table table-hover",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"S.No."}),(0,t.jsx)("th",{children:"Users"}),(0,t.jsx)("th",{children:"Users NAME"}),(0,t.jsx)("th",{children:"Users Plan"}),(0,t.jsx)("th",{children:"Plan Start Date"}),(0,t.jsx)("th",{children:"Plan End Date"}),(0,t.jsx)("th",{children:"Action"})]})}),(0,t.jsx)("tbody",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"1"}),(0,t.jsx)("td",{children:(0,t.jsx)("div",{className:"d-flex ",children:(0,t.jsx)("div",{className:"user-img",children:(0,t.jsx)("img",{src:"../../assets/img/user1.png",alt:"User Image",className:"w-100 h-100"})})})}),(0,t.jsx)("td",{children:"Mohd. Arbab"}),(0,t.jsx)("td",{children:"Platinum Plan"}),(0,t.jsx)("td",{children:"02-02-2024"}),(0,t.jsx)("td",{children:"02-03-2024"}),(0,t.jsx)("td",{children:(0,t.jsxs)("div",{className:"d-flex ",children:[(0,t.jsx)("a",{href:"user-subscription-plan-view.html",className:"Table_btn me-2",children:(0,t.jsx)("i",{className:"fa fa-eye"})}),(0,t.jsx)("a",{href:"javascript:;",className:"Table_btn",children:(0,t.jsx)("i",{className:"fa fa-trash"})})]})})]})})]})})})})})]})};var r=a(9011),d=a(5528),o=a(3216),h=a(5475),m=a(6337),x=a(7323),p=a(9954);const j=function(){const[e,s]=(0,l.useState)(""),[a,n]=(0,l.useState)(""),[i,c]=(0,l.useState)(""),[j,u]=(0,l.useState)(!1),[b,v]=(0,l.useState)(""),[N,f]=(0,l.useState)(1),[g]=(0,l.useState)(10),y=(0,d.MW)(),w=(0,o.zy)(),_=(0,o.Zp)(),S=new URLSearchParams(w.search);(0,l.useEffect)((()=>{const e=S.get("page")||1;e>=1&&f(e)}),[N,w.search]);const{data:k,refetch:C}=(0,r.I)({queryKey:["subscriptionList",e,i,a,N],queryFn:async()=>{const s={search:e,year:i,month:a,page:N,pageSize:g};return(0,m.Jj)(s)},onError:e=>{console.log(e)},select:e=>e.results}),P=(null===k||void 0===k?void 0:k.packages)||[],A=(null===k||void 0===k?void 0:k.totalPages)||0,U=(null===k||void 0===k?void 0:k.page)||1,M=e=>{e>=1&&e<=A&&(f(e),S.set("page",e),_({search:S.toString()},{replace:!0}))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"col-12",children:(0,t.jsxs)("div",{className:"row align-items-center justify-content-between py-md-4 py-3 px-md-3 px-2",children:[(0,t.jsx)("div",{className:"col-md-auto mb-md-0 mb-3",children:(0,t.jsx)("div",{className:"headleft",children:(0,t.jsx)("h2",{children:"Subscription Plan Management"})})}),(0,t.jsxs)("div",{className:"col-md-4 d-flex align-items-center justify-content-end",children:[(0,t.jsxs)("div",{className:"searchh_box position-relative",children:[(0,t.jsx)("input",{className:"form-control",type:"search",placeholder:"Search",value:e,onChange:e=>s(e.target.value)}),(0,t.jsx)("button",{children:(0,t.jsx)("i",{className:"fas fa-search"})})]}),(0,t.jsxs)("div",{className:"dropdown filterdropdown",children:[(0,t.jsx)("button",{className:"btn btn-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,t.jsx)("i",{className:"fas fa-filter"})}),(0,t.jsx)("div",{className:"dropdown-menu",children:(0,t.jsxs)("form",{className:"form-design row mx-0",children:[(0,t.jsxs)("div",{className:"col-12 form-group",children:[(0,t.jsx)("label",{children:"Year"}),(0,t.jsxs)("select",{className:"form-select",onChange:e=>c(e.target.value),value:i,children:[(0,t.jsx)("option",{value:2001,children:"2001"}),(0,t.jsx)("option",{value:2002,children:"2002"}),(0,t.jsx)("option",{value:2003,children:"2003"}),(0,t.jsx)("option",{value:2004,children:"2004"}),(0,t.jsx)("option",{value:2005,children:"2005"}),(0,t.jsx)("option",{value:2006,children:"2006"}),(0,t.jsx)("option",{value:2007,children:"2007"}),(0,t.jsx)("option",{value:2008,children:"2008"}),(0,t.jsx)("option",{value:2009,children:"2009"}),(0,t.jsx)("option",{value:2010,children:"2010"})]})]}),(0,t.jsxs)("div",{className:"col-12 form-group",children:[(0,t.jsx)("label",{children:"Months"}),(0,t.jsxs)("select",{className:"form-select",onChange:e=>n(e.target.value),value:a,children:[(0,t.jsx)("option",{value:"01",children:"Jan"}),(0,t.jsx)("option",{value:"02",children:"Feb"}),(0,t.jsx)("option",{value:"03",children:"Mar"}),(0,t.jsx)("option",{value:"04",children:"Apr"}),(0,t.jsx)("option",{value:"05",children:"May"}),(0,t.jsx)("option",{value:"06",children:"Jun"}),(0,t.jsx)("option",{value:"07",children:"July"}),(0,t.jsx)("option",{value:"08",children:"August"}),(0,t.jsx)("option",{value:"09",children:"Sep"}),(0,t.jsx)("option",{value:"10",children:"Oct"}),(0,t.jsx)("option",{value:"11",children:"Nov"}),(0,t.jsx)("option",{value:"12",children:"Dec"})]})]})]})})]})]})]})}),(0,t.jsx)("div",{className:"col-12",children:(0,t.jsx)("div",{className:"row comman_table pt-md-3 pb-md-4 pb-3 px-md-3 px-2",children:(0,t.jsxs)("div",{className:"col-12",children:[(0,t.jsx)("div",{className:"table-responsive",children:(0,t.jsxs)("table",{className:"table table-hover",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"S.No."}),(0,t.jsx)("th",{children:"PLAN NAME"}),(0,t.jsx)("th",{children:"PRICE"}),(0,t.jsx)("th",{children:"Features"}),(0,t.jsx)("th",{children:"DURATION"}),(0,t.jsx)("th",{children:"Action"})]})}),(0,t.jsx)("tbody",{children:null===P||void 0===P?void 0:P.map(((e,s)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(U-1)*g+s+1}),(0,t.jsx)("td",{children:e.planName}),(0,t.jsx)("td",{children:e.planPrice}),(0,t.jsx)("td",{style:{whiteSpace:"unset"},children:(0,t.jsx)("ul",{children:null===e||void 0===e?void 0:e.planFeatures.map(((e,s)=>(0,t.jsx)("li",{children:e},s)))})}),(0,t.jsxs)("td",{children:[e.planDuration," Month"]}),(0,t.jsx)("td",{children:(0,t.jsxs)("div",{className:"d-flex",children:[(0,t.jsx)(h.N_,{to:`/admin/subscription-plan-details/${e._id}?tab=${S.get("tab")||1}&page=${N}`,className:"Table_btn me-2",children:(0,t.jsx)("i",{className:"fa fa-eye"})}),(0,t.jsx)(h.N_,{to:"",className:"Table_btn",onClick:()=>v(e._id),"data-bs-toggle":"modal","data-bs-target":"#popUp2",children:(0,t.jsx)("i",{className:"fa fa-trash"})})]})})]},e._id)))})]})}),(0,t.jsxs)("div",{className:"pagination row mt-4",children:[(0,t.jsx)("div",{className:"col",children:(0,t.jsx)("span",{children:`Showing ${U} to ${A}  of ${A}`})}),(0,t.jsxs)("div",{className:"col-auto d-flex",children:[(0,t.jsx)("button",{className:"bg-main status_accepted_bg",disabled:1==U,onClick:()=>M(U-1),children:"Prev"}),(()=>{const e=[],s=Math.max(1,N-2),a=Math.min(A,N+2);for(let l=s;l<=a;l++)console.log(N,l),e.push((0,t.jsx)("button",{className:`btn ${N==l?"bg-custom-secondary":"btn-light"} ms-1`,onClick:()=>M(l),children:l},l));return e})(),(0,t.jsx)("button",{className:"bg-main status_accepted_bg  ms-1",disabled:U==A,onClick:()=>M(U+1),children:"Next"})]})]})]})})}),(0,t.jsx)("div",{className:"modal fade popUp ",id:"popUp2","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,t.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,t.jsx)("div",{className:"modal-content",children:(0,t.jsx)("div",{className:"modal-body border-0 py-4 px-3",children:(0,t.jsxs)("div",{className:"popUp_main text-center",children:[(0,t.jsx)("img",{className:"main_icon",src:"../assets/img/reject_imgg.webp",alt:""}),(0,t.jsx)("h3",{children:"Are You sure, you want to delete?"}),(0,t.jsxs)("div",{className:"row mx-0 mt-4 mb-2",children:[(0,t.jsx)("div",{className:"col-6",children:(0,t.jsx)(h.N_,{className:"bg-main  status_accepted_bg w-100 d-block","data-bs-dismiss":"modal",to:"",onClick:()=>v(""),id:"popUpClose2",children:"No"})}),(0,t.jsx)("div",{className:"col-6",children:(0,t.jsx)("button",{className:"bg-custom-secondary status_accepted_bg w-100",onClick:()=>(async e=>{u(!0);const s=await(0,m.s2)(e);s.error?(u(!1),(0,x.S)(y,s.message,{timeout:3e3})):(u(!1),document.getElementById("popUpClose2").click(),(0,x.S)(y,s.message,{timeout:3e3}),C())})(b),disabled:j,children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"me-2",children:"Wait"}),(0,t.jsx)(p.IN,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"18",visible:!0})]}):"Yes"})})]})]})})})})})]})};const u=function(){const e=(0,o.zy)(),s=(0,o.Zp)(),a=new URLSearchParams(e.search),r=a.get("tab")||1;(0,l.useEffect)((()=>{if(2==r){const e=document.querySelectorAll(".tab-pane"),s=document.querySelectorAll(".nav-item");e.forEach((e=>e.classList.remove("show","active"))),s.forEach((e=>e.classList.remove("active"))),document.getElementById("merchant-subscription-plan-tab").classList.add("active"),document.getElementById("merchant-subscription-plan").classList.add("show","active")}}),[r]);const d=e=>{a.set("tab",e),a.delete("page"),s({search:a.toString()},{replace:!0})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.A,{}),(0,t.jsxs)("div",{className:"admin_main",children:[(0,t.jsx)(i.A,{}),(0,t.jsxs)("div",{className:"admin_contentpart",children:[(0,t.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,t.jsxs)("div",{className:"tabs nav nav-tabs common_tabs",id:"reportsTab",role:"tablist",children:[(0,t.jsx)("label",{className:"tab nav-item text-capitalize active",htmlFor:"radio-1",id:"subscription-plan-tab","data-bs-toggle":"tab",href:"#subscription-plan",role:"tab","aria-controls":"subscription-plan","aria-selected":"true",onClick:()=>d(1),children:"Subscription Plan"}),(0,t.jsx)("label",{className:"tab nav-item text-capitalize",htmlFor:"radio-2",id:"merchant-subscription-plan-tab","data-bs-toggle":"tab",href:"#merchant-subscription-plan",role:"tab","aria-controls":"merchant-subscription-plan","aria-selected":"false",onClick:()=>d(2),children:"Users Subscription Plan"})]}),(0,t.jsx)("div",{className:"d-flex",children:2==r?(0,t.jsx)("div",{className:"comman_btn w-fit",children:"Enable Subscription Plan"}):(0,t.jsx)(h.N_,{to:"/admin/add-subscription-plan",className:"comman_btn w-fit ms-2",children:"Add Subscription Plan"})})]}),(0,t.jsx)("div",{className:"row comman_design mx-0 mt-4",children:(0,t.jsxs)("div",{className:"tab-content mt-4",id:"reportsTabContent",children:[(0,t.jsx)("div",{className:"tab-pane common_table fade show active",id:"subscription-plan",role:"tabpanel","aria-labelledby":"subscription-plan-tab",children:(0,t.jsx)(j,{})}),(0,t.jsx)("div",{className:"tab-pane common_table fade",id:"merchant-subscription-plan",role:"tabpanel","aria-labelledby":"merchant-subscription-plan-tab",children:(0,t.jsx)(c,{})})]})})]})]})]})}}}]);
//# sourceMappingURL=317.e8c9a2f2.chunk.js.map