"use strict";(self.webpackChunktimpwebapp=self.webpackChunktimpwebapp||[]).push([[813],{3813:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var l=a(5043),i=a(6161),t=a(7616),n=a(3216),c=a(5475),d=a(9011),r=a(6337),o=a(7323),h=a(5528),m=a(9954),x=a(3768),j=a.n(x),p=a(579);const u=function(){const[e,s]=(0,l.useState)(""),[a,x]=(0,l.useState)(""),[u,v]=(0,l.useState)(""),[b,N]=(0,l.useState)(!1),[g,f]=(0,l.useState)(""),[w,y]=(0,l.useState)(1),[_]=(0,l.useState)(10),S=(0,h.MW)(),k=(0,n.zy)(),C=(0,n.Zp)(),M=new URLSearchParams(k.search);(0,l.useEffect)((()=>{const e=M.get("page")||1;e>=1&&y(e)}),[w,k.search]);const{data:U,refetch:A}=(0,d.I)({queryKey:["UsersList",e,u,a,w],queryFn:async()=>{const s={search:e,year:u,month:a,page:w,pageSize:_};return(0,r.sw)(s)},onError:e=>{console.log(e)},select:e=>e.results}),I=(null===U||void 0===U?void 0:U.users)||[],L=(null===U||void 0===U?void 0:U.totalPages)||0,$=(null===U||void 0===U?void 0:U.page)||1,E=e=>{e>=1&&e<=L&&(y(e),M.set("page",e),C({search:M.toString()},{replace:!0}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(i.A,{}),(0,p.jsxs)("div",{className:"admin_main",children:[(0,p.jsx)(t.A,{}),(0,p.jsx)("div",{className:"admin_contentpart",children:(0,p.jsxs)("div",{className:"row comman_design mx-0",children:[(0,p.jsx)("div",{className:"col-12",children:(0,p.jsxs)("div",{className:"row align-items-center justify-content-between pt-md-4 pt-3 px-md-3 px-2",children:[(0,p.jsx)("div",{className:"col-md-auto mb-md-0 mb-3",children:(0,p.jsx)("div",{className:"headleft",children:(0,p.jsx)("h2",{children:"Users Management"})})}),(0,p.jsxs)("div",{className:"col-md-4 d-flex align-items-center justify-content-end",children:[(0,p.jsxs)("div",{className:"searchh_box position-relative",children:[(0,p.jsx)("input",{className:"form-control",type:"search",placeholder:"Search",value:e,onChange:e=>s(e.target.value)}),(0,p.jsx)("button",{children:(0,p.jsx)("i",{className:"fas fa-search"})})]}),(0,p.jsxs)("div",{className:"dropdown filterdropdown",children:[(0,p.jsx)("button",{className:"btn btn-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,p.jsx)("i",{className:"fas fa-filter"})}),(0,p.jsx)("div",{className:"dropdown-menu",children:(0,p.jsxs)("form",{className:"form-design row mx-0",children:[(0,p.jsxs)("div",{className:"col-12 form-group",children:[(0,p.jsx)("label",{children:"Year"}),(0,p.jsxs)("select",{className:"form-select",onChange:e=>v(e.target.value),value:u,children:[(0,p.jsx)("option",{value:2001,children:"2001"}),(0,p.jsx)("option",{value:2002,children:"2002"}),(0,p.jsx)("option",{value:2003,children:"2003"}),(0,p.jsx)("option",{value:2004,children:"2004"}),(0,p.jsx)("option",{value:2005,children:"2005"}),(0,p.jsx)("option",{value:2006,children:"2006"}),(0,p.jsx)("option",{value:2007,children:"2007"}),(0,p.jsx)("option",{value:2008,children:"2008"}),(0,p.jsx)("option",{value:2009,children:"2009"}),(0,p.jsx)("option",{value:2010,children:"2010"})]})]}),(0,p.jsxs)("div",{className:"col-12 form-group",children:[(0,p.jsx)("label",{children:"Months"}),(0,p.jsxs)("select",{className:"form-select",onChange:e=>x(e.target.value),value:a,children:[(0,p.jsx)("option",{value:"01",children:"Jan"}),(0,p.jsx)("option",{value:"02",children:"Feb"}),(0,p.jsx)("option",{value:"03",children:"Mar"}),(0,p.jsx)("option",{value:"04",children:"Apr"}),(0,p.jsx)("option",{value:"05",children:"May"}),(0,p.jsx)("option",{value:"06",children:"Jun"}),(0,p.jsx)("option",{value:"07",children:"July"}),(0,p.jsx)("option",{value:"08",children:"August"}),(0,p.jsx)("option",{value:"09",children:"Sep"}),(0,p.jsx)("option",{value:"10",children:"Oct"}),(0,p.jsx)("option",{value:"11",children:"Nov"}),(0,p.jsx)("option",{value:"12",children:"Dec"})]})]})]})})]})]})]})}),(0,p.jsx)("div",{className:"col-12",children:(0,p.jsx)("div",{className:"row comman_table pt-md-3 pb-md-4 pb-3 px-md-3 px-2",children:(0,p.jsxs)("div",{className:"col-12 position-relative",children:[(0,p.jsx)("div",{className:"table-responsive",children:(0,p.jsxs)("table",{className:"table table-hover",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"S.No."}),(0,p.jsx)("th",{children:"Image"}),(0,p.jsx)("th",{children:"User Name"}),(0,p.jsx)("th",{children:"Email"}),(0,p.jsx)("th",{children:"Mobile Number"}),(0,p.jsx)("th",{children:"Cuisines"}),(0,p.jsx)("th",{children:"Biography"}),(0,p.jsx)("th",{children:"Status"}),(0,p.jsx)("th",{children:"Action"})]})}),(0,p.jsx)("tbody",{children:I.map(((e,s)=>{var a;return(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:($-1)*_+s+1}),(0,p.jsx)("td",{children:(0,p.jsx)("div",{className:"user-img",children:(0,p.jsx)("img",{src:e.profile||"../assets/img/user1.png",alt:"",className:"w-100 h-100"})})}),(0,p.jsx)("td",{children:e.name}),(0,p.jsx)("td",{children:e.email}),(0,p.jsx)("td",{children:e.mobileNumber}),(0,p.jsx)("td",{children:null===(a=e.prefers)||void 0===a?void 0:a.join(", ")}),(0,p.jsx)("td",{style:{whiteSpace:"unset"},children:(0,p.jsx)(j(),{charLimit:50,readMoreText:"See more \u25bc",readLessText:"See less \u25b2",readMoreClassName:"read-more-less--more",readLessClassName:"read-more-less--less",children:e.bio})}),(0,p.jsx)("td",{children:(0,p.jsx)("span",{className:e.status?"status_accepted":"status_declained",children:e.status?"Active":"Inactive"})}),(0,p.jsx)("td",{children:(0,p.jsxs)("div",{className:"d-flex",children:[(0,p.jsx)(c.N_,{to:`/admin/user-details/${e._id}?page=${w}`,className:"Table_btn me-2",children:(0,p.jsx)("i",{className:"fa fa-eye"})}),(0,p.jsx)(c.N_,{to:"",className:"Table_btn",onClick:()=>f(e._id),"data-bs-toggle":"modal","data-bs-target":"#popUp2",children:(0,p.jsx)("i",{className:"fa fa-trash"})})]})})]},e._id)}))})]})}),(0,p.jsxs)("div",{className:"pagination row mt-4",children:[(0,p.jsx)("div",{className:"col",children:(0,p.jsx)("span",{children:`Showing ${$} to ${L}  of ${L}`})}),(0,p.jsxs)("div",{className:"col-auto d-flex",children:[(0,p.jsx)("button",{className:"bg-main status_accepted_bg",disabled:1==$,onClick:()=>E($-1),children:"Prev"}),(()=>{const e=[],s=Math.max(1,w-2),a=Math.min(L,w+2);for(let l=s;l<=a;l++)console.log(w,l),e.push((0,p.jsx)("button",{className:`btn ${w==l?"bg-custom-secondary":"btn-light"} ms-1`,onClick:()=>E(l),children:l},l));return e})(),(0,p.jsx)("button",{className:"bg-main status_accepted_bg  ms-1",disabled:$==L,onClick:()=>E($+1),children:"Next"})]})]})]})})})]})})]}),(0,p.jsx)("div",{className:"modal fade popUp",id:"popUp2","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,p.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,p.jsx)("div",{className:"modal-content",children:(0,p.jsx)("div",{className:"modal-body border-0 py-4 px-3",children:(0,p.jsxs)("div",{className:"popUp_main text-center",children:[(0,p.jsx)("img",{className:"main_icon",src:"../assets/img/reject_imgg.webp",alt:""}),(0,p.jsx)("h3",{children:"Are you sure you want to delete?"}),(0,p.jsxs)("div",{className:"row mx-0 mt-4 mb-2",children:[(0,p.jsx)("div",{className:"col-6",children:(0,p.jsx)(c.N_,{className:"bg-main status_accepted_bg w-100 d-block","data-bs-dismiss":"modal",to:"",onClick:()=>f(""),id:"popUpClose2",children:"No"})}),(0,p.jsx)("div",{className:"col-6",children:(0,p.jsx)("button",{className:"bg-custom-secondary status_accepted_bg w-100",onClick:()=>(async e=>{N(!0);const s=await(0,r.hG)(e);s.error?(N(!1),(0,o.S)(S,s.message,{timeout:3e3})):(N(!1),document.getElementById("popUpClose2").click(),(0,o.S)(S,s.message,{timeout:3e3}),A())})(g),disabled:b,children:b?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("span",{className:"me-2",children:"Wait"}),(0,p.jsx)(m.IN,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"18",visible:!0})]}):"Yes"})})]})]})})})})})]})}}}]);
//# sourceMappingURL=813.3285c973.chunk.js.map