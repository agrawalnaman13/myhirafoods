"use strict";(self.webpackChunktimpwebapp=self.webpackChunktimpwebapp||[]).push([[274],{5274:(e,s,l)=>{l.r(s),l.d(s,{default:()=>u});var i=l(5043),a=l(6161),r=l(7616),m=l(4858),d=l(5528),n=l(7323),t=l(6337),o=l(9011),c=l(579);const u=function(){const[e,s]=(0,i.useState)(null),[l,u]=(0,i.useState)(Date.now()),{register:h,handleSubmit:N,reset:p,formState:{errors:b}}=(0,m.mN)({mode:"onChange"}),f=(0,d.MW)(),{data:x,isSuccess:j}=(0,o.I)({queryKey:["admin"],queryFn:t.LR,select:e=>e.results,onError:e=>{f.error(e.message)}});return(0,i.useEffect)((()=>{if(j&&x){document.getElementById("admin-img").setAttribute("src",null!==x&&void 0!==x&&x.image?null===x||void 0===x?void 0:x.image:"");const e={fullName:(null===x||void 0===x?void 0:x.fullName)||"",email:(null===x||void 0===x?void 0:x.email)||"",mobileNumber:(null===x||void 0===x?void 0:x.mobileNumber)||""};p(e)}}),[j,x,p]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.A,{update:l}),(0,c.jsxs)("div",{className:"admin_main",children:[(0,c.jsx)(r.A,{}),(0,c.jsx)("div",{className:"admin_contentpart",children:(0,c.jsx)("div",{className:"row mx-0",children:(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("form",{className:"userdetails row align-items-center",onSubmit:N((async s=>{const l=new FormData;null!==e&&void 0!==e&&e.name&&l.append("image",e),Object.keys(s).forEach((e=>{l.append(e,s[e])}));const i=await(0,t.oS)(l);i.error||u(Date.now()),(0,n.S)(f,i.message,{timeout:3e3})})),children:[(0,c.jsx)("div",{className:"col-md-auto",children:(0,c.jsxs)("div",{className:"userdetails_img position-relative",children:[(0,c.jsx)("img",{src:e?URL.createObjectURL(e):"../../assets/img/user1.png",alt:"",id:"admin-img"}),(0,c.jsx)("label",{htmlFor:"photo-upload",className:"editicon",children:(0,c.jsx)("i",{className:"fas fa-edit"})}),(0,c.jsx)("input",{id:"photo-upload",type:"file",onChange:e=>(e=>{const l=e.target.files[0];s(l)})(e)})]})}),(0,c.jsx)("div",{className:"col",children:(0,c.jsxs)("div",{className:"userdetails_main ps-md-2 pe-md-5",children:[(0,c.jsxs)("h2",{children:[null===x||void 0===x?void 0:x.fullName," "]}),(0,c.jsx)("button",{type:"submit",className:"edit_btn",children:"Edit Profile"})]})}),(0,c.jsx)("div",{className:"col-12 mt-4",children:(0,c.jsxs)("div",{className:"row form-design",children:[(0,c.jsxs)("div",{className:"form-group col-md-4",children:[(0,c.jsx)("label",{htmlFor:!0,children:"Full Name"}),(0,c.jsx)("input",{type:"text",className:"form-control",name:"fullName",id:"fullName",...h("fullName",{required:!0})}),b.fullName&&"required"===b.fullName.type&&(0,c.jsx)("p",{className:"form-error",children:"This field is required"})]}),(0,c.jsxs)("div",{className:"form-group col-md-4",children:[(0,c.jsx)("label",{htmlFor:!0,children:"Email Address"}),(0,c.jsx)("input",{type:"email",className:"form-control",name:"email",id:"email",...h("email",{required:"This field is required",pattern:{value:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Invalid email address"}})}),(null===b||void 0===b?void 0:b.email)&&(0,c.jsx)("p",{className:"form-error mt-1",children:b.email.message})]}),(0,c.jsxs)("div",{className:"form-group col-md-4",children:[(0,c.jsx)("label",{htmlFor:!0,children:"Mobile Number"}),(0,c.jsx)("input",{className:"form-control",type:"number",name:"mobileNumber",...h("mobileNumber",{required:!0,maxLength:9,minLength:9})}),b.mobileNumber&&"required"===b.mobileNumber.type&&(0,c.jsx)("p",{className:"form-error",children:"This field is required"}),b.mobileNumber&&"maxLength"===b.mobileNumber.type&&(0,c.jsx)("p",{className:"form-error",children:"Please enter 9 digit number"}),b.mobileNumber&&"minLength"===b.mobileNumber.type&&(0,c.jsx)("p",{className:"form-error",children:"Please enter 9 digit number"})]})]})})]})})})})]})]})}}}]);
//# sourceMappingURL=274.2a296cac.chunk.js.map