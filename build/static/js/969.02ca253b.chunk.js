"use strict";(self.webpackChunktimpwebapp=self.webpackChunktimpwebapp||[]).push([[969],{1969:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var l=a(5043),i=a(6161),d=a(7616),c=a(5475),t=a(9011),n=a(6337),r=a(7323),o=a(5528),m=a(9954),h=a(579);const x=function(){const[e,s]=(0,l.useState)(!1),[a,x]=(0,l.useState)(""),[j,p]=(0,l.useState)(""),N=(0,o.MW)(),{data:v}=(0,t.I)({queryKey:["Count"],queryFn:n.Rf,onError:e=>{console.log(e)},select:e=>e.results}),{data:u,refetch:b}=(0,t.I)({queryKey:["UsersListDb"],queryFn:async()=>(0,n.sw)({search:"",year:"",month:"",page:1,pageSize:5}),onError:e=>{console.log(e)},select:e=>e.results.users}),{data:g,refetch:f}=(0,t.I)({queryKey:["newMerchantListDb"],queryFn:async()=>(0,n.Nj)({search:"",year:"",month:"",page:1,pageSize:5}),onError:e=>{console.log(e)},select:e=>e.results.merchants}),{data:w}=(0,t.I)({queryKey:["ratingListDb"],queryFn:async()=>(0,n.au)({search:"",year:"",month:"",page:1,pageSize:6}),onError:e=>{console.log(e)},select:e=>e.results.ratings}),_=async(e,a)=>{if("Declined"===a&&!j)return void(0,r.S)(N,"Please add a reason",{timeout:3e3});s(!0);const l={action:a,reason:j},i=await(0,n.Aw)(l,e);i.error?(s(!1),(0,r.S)(N,i.message,{timeout:3e3})):(s(!1),"Declined"===a&&document.getElementById("popUpClose").click(),(0,r.S)(N,i.message,{timeout:3e3}),f())};return console.log(v,u,g),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.A,{}),(0,h.jsxs)("div",{className:"admin_main",children:[(0,h.jsx)(d.A,{}),(0,h.jsxs)("div",{className:"admin_contentpart",children:[(0,h.jsxs)("div",{className:"row mb-md-4",children:[(0,h.jsx)("div",{className:"col-lg-3 col-md-6 col-12",children:(0,h.jsxs)(c.N_,{to:"",className:"staticss_box",children:[(0,h.jsx)("span",{children:"Total Users"}),(0,h.jsx)("div",{className:"static_data",children:(0,h.jsx)("strong",{children:(null===v||void 0===v?void 0:v.totalUser)||0})})]})}),(0,h.jsx)("div",{className:"col-lg-3 col-md-6 col-12",children:(0,h.jsxs)(c.N_,{to:"",className:"staticss_box staticss_box1",children:[(0,h.jsx)("span",{children:"Total merchants "}),(0,h.jsx)("div",{className:"static_data",children:(0,h.jsx)("strong",{children:(null===v||void 0===v?void 0:v.totalMerchant)||0})})]})}),(0,h.jsx)("div",{className:"col-lg-3 col-md-6 col-12",children:(0,h.jsxs)(c.N_,{to:"",className:"staticss_box staticss_box1",children:[(0,h.jsx)("span",{children:"Total Rating & Review"}),(0,h.jsx)("div",{className:"static_data",children:(0,h.jsx)("strong",{children:(null===v||void 0===v?void 0:v.totalRatingReview)||0})})]})}),(0,h.jsx)("div",{className:"col-lg-3 col-md-6 col-12",children:(0,h.jsxs)(c.N_,{to:"",className:"staticss_box",children:[(0,h.jsx)("span",{children:"Total Revenue"}),(0,h.jsx)("div",{className:"static_data",children:(0,h.jsxs)("strong",{children:[(null===v||void 0===v?void 0:v.totalRevenue)||0," ED"]})})]})})]}),(0,h.jsxs)("div",{className:"row comman_design mx-0",children:[(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("div",{className:"row align-items-center justify-content-between pt-md-4 pt-3 px-md-3 px-2",children:(0,h.jsx)("div",{className:"col-md-auto mb-md-0 mb-3",children:(0,h.jsx)("div",{className:"headleft",children:(0,h.jsx)("h2",{children:"Recent Users"})})})})}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("div",{className:"row comman_table pt-md-3 pb-md-4 pb-3 px-md-3 px-2",children:(0,h.jsx)("div",{className:"col-12 position-relative",children:(0,h.jsx)("div",{className:"table-responsive",children:(0,h.jsxs)("table",{className:"table table-hover",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"S.No."}),(0,h.jsx)("th",{children:"Image"}),(0,h.jsx)("th",{children:"User Name"}),(0,h.jsx)("th",{children:"Email"}),(0,h.jsx)("th",{children:"Mobile Number"}),(0,h.jsx)("th",{children:"Cuisines"}),(0,h.jsx)("th",{children:"Status"}),(0,h.jsx)("th",{children:"Action"})]})}),(0,h.jsx)("tbody",{children:null===u||void 0===u?void 0:u.map(((e,s)=>{var a;return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:s+1}),(0,h.jsx)("td",{children:(0,h.jsx)("div",{className:"user-img",children:(0,h.jsx)("img",{src:e.profile||"../assets/img/user1.png",alt:""})})}),(0,h.jsx)("td",{children:e.name}),(0,h.jsx)("td",{children:e.email}),(0,h.jsx)("td",{children:e.mobileNumber}),(0,h.jsx)("td",{children:null===(a=e.prefers)||void 0===a?void 0:a.join(", ")}),(0,h.jsx)("td",{children:(0,h.jsx)("span",{className:e.status?"status_accepted":"status_declained",children:e.status?"Active":"Inactive"})}),(0,h.jsx)("td",{children:(0,h.jsxs)("div",{className:"d-flex",children:[(0,h.jsx)(c.N_,{to:`/admin/user-details/${e._id}`,className:"Table_btn me-2",children:(0,h.jsx)("i",{className:"fa fa-eye"})}),(0,h.jsx)(c.N_,{to:"",className:"Table_btn",onClick:()=>x(e._id),"data-bs-toggle":"modal","data-bs-target":"#popUp2",children:(0,h.jsx)("i",{className:"fa fa-trash"})})]})})]},e._id)}))})]})})})})})]}),(0,h.jsx)("div",{className:"row mt-4",children:(0,h.jsx)("div",{className:"col-md-12",children:(0,h.jsxs)("div",{className:"row comman_design mx-0",children:[(0,h.jsx)("div",{className:"py-3 px-3 ",children:(0,h.jsx)("div",{className:"headleft",children:(0,h.jsx)("h2",{children:"New merchant"})})}),(0,h.jsx)("div",{className:"col-12 px-0",children:(0,h.jsx)("div",{className:"row comman_table pt-md-0 pb-md-4 pb-3 px-md-3 px-2",children:(0,h.jsx)("div",{className:"col-12 normal-search",children:(0,h.jsx)("div",{className:"table-responsive",children:(0,h.jsxs)("table",{className:"table",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"S.No."}),(0,h.jsx)("th",{children:"Image"}),(0,h.jsx)("th",{children:"Name"}),(0,h.jsx)("th",{children:"Email"}),(0,h.jsx)("th",{children:"Mobile Number"}),(0,h.jsx)("th",{children:"Action"})]})}),(0,h.jsx)("tbody",{children:null===g||void 0===g?void 0:g.map(((e,s)=>(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:s+1}),(0,h.jsx)("td",{children:(0,h.jsx)("img",{src:e.profile||"../assets/img/user1.png",alt:""})}),(0,h.jsx)("td",{children:e.name}),(0,h.jsx)("td",{children:e.email}),(0,h.jsx)("td",{children:e.mobileNumber}),(0,h.jsx)("td",{children:(0,h.jsxs)("div",{className:"d-flex justify-content-start gap-2",children:[(0,h.jsx)(c.N_,{to:`/admin/merchant-details/${e._id}`,className:"bg-main px-2 status_accepted_bg text-white",children:"View"}),(0,h.jsx)(c.N_,{to:"#",className:"status_accepted_bg",onClick:()=>_(e._id,"Accept"),children:"Accept"}),(0,h.jsx)(c.N_,{to:"#",className:"status_declained_bg",onClick:()=>x(e._id),"data-bs-toggle":"modal","data-bs-target":"#popUp",children:"Decline"})]})})]},e._id)))})]})})})})})]})})}),(0,h.jsxs)("div",{className:"row comman_design mx-0 mt-4",children:[(0,h.jsx)("div",{className:"col-12",children:(0,h.jsxs)("div",{className:"row align-items-center justify-content-between py-md-4 py-3 px-md-3 px-2",children:[(0,h.jsx)("div",{className:"col-md-auto mb-md-0 mb-3",children:(0,h.jsx)("div",{className:"headleft",children:(0,h.jsx)("h2",{children:"Rating & Review"})})}),(0,h.jsxs)("div",{className:"col-md-6 d-flex align-items-center justify-content-end",children:[(0,h.jsxs)("div",{className:"searchh_box position-relative",children:[(0,h.jsx)("input",{className:"form-control",type:"search",placeholder:"Search"}),(0,h.jsx)("button",{children:(0,h.jsx)("i",{className:"fas fa-search"})})]}),(0,h.jsxs)("div",{className:"dropdown filterdropdown filterdropdown2",children:[(0,h.jsx)("button",{className:"btn btn-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,h.jsx)("i",{className:"fas fa-filter"})}),(0,h.jsx)("div",{className:"dropdown-menu",children:(0,h.jsxs)("form",{className:"form-design row mx-0",children:[(0,h.jsxs)("div",{className:"col-12 form-group",children:[(0,h.jsx)("label",{children:"Year"}),(0,h.jsxs)("select",{className:"form-select","aria-label":"Default select example",children:[(0,h.jsx)("option",{selected:!0,children:"2001"}),(0,h.jsx)("option",{value:1,children:"2002"}),(0,h.jsx)("option",{value:2,children:"2003"}),(0,h.jsx)("option",{value:2,children:"2004"}),(0,h.jsx)("option",{value:2,children:"2005"}),(0,h.jsx)("option",{value:2,children:"2006"}),(0,h.jsx)("option",{value:2,children:"2007"}),(0,h.jsx)("option",{value:2,children:"2008"}),(0,h.jsx)("option",{value:2,children:"2009"}),(0,h.jsx)("option",{value:2,children:"2010"})]})]}),(0,h.jsxs)("div",{className:"col-12 form-group",children:[(0,h.jsx)("label",{children:"Months"}),(0,h.jsxs)("select",{className:"form-select","aria-label":"Default select example",children:[(0,h.jsx)("option",{selected:!0,children:"Jan"}),(0,h.jsx)("option",{value:1,children:"Feb"}),(0,h.jsx)("option",{value:2,children:"Mar"}),(0,h.jsx)("option",{value:2,children:"Apr"}),(0,h.jsx)("option",{value:2,children:"May"}),(0,h.jsx)("option",{value:2,children:"Jun"}),(0,h.jsx)("option",{value:2,children:"July"}),(0,h.jsx)("option",{value:2,children:"August"}),(0,h.jsx)("option",{value:2,children:"Sep"}),(0,h.jsx)("option",{value:2,children:"Oct"}),(0,h.jsx)("option",{value:2,children:"Nov"}),(0,h.jsx)("option",{value:2,children:"Dec"})]})]})]})})]})]})]})}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("div",{className:"row comman_table pt-md-0 pb-md-4 pb-3 px-md-3 px-2",children:null===w||void 0===w?void 0:w.map(((e,s)=>(0,h.jsx)("div",{className:"col-lg-4 col-md-6 col-12 mt-lg-0 mt-4",children:(0,h.jsxs)("div",{className:"cards shadow py-4 px-4 rounded-3",children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"d-flex flex-wrap justify-content-between",children:[(0,h.jsxs)("div",{className:"d-flex gap-3 w-75",children:[(0,h.jsx)("div",{className:"dash-review-pro-img",children:(0,h.jsx)("img",{src:"../assets/img/spicy1.jpg",alt:"",className:"w-100 h-100"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{className:"leading-1 fw-semibold",children:"Tuna soup spinach with himalaya salt"}),(0,h.jsx)("p",{className:"leading-1 fw-light",children:"30 minutes ago"})]})]}),(0,h.jsxs)("div",{className:"select-dropdown",children:[(0,h.jsx)("button",{type:"button",className:"btn select-dropdown__button",children:(0,h.jsx)("i",{className:"fa fa-ellipsis-v main-color leading-1 cursor-pointer view-review-dash"})}),(0,h.jsx)("div",{className:"select-dropdown__list",children:(0,h.jsx)(c.N_,{to:"/admin/rating-review-details",className:"fs-6 fw-semibold mb-0 cursor-pointer text-decoration-none",children:"View"})})]})]}),(0,h.jsx)("div",{children:(0,h.jsx)("p",{className:"leading-1 fw-light",children:"A very fine addition to the not over plentiful supply of good restaurants in this part of west London."})})]}),(0,h.jsx)("div",{className:"bg-main py-3 px-3 rounded-3",children:(0,h.jsxs)("div",{className:"d-flex gap-2 align-items-center justify-content-between",children:[(0,h.jsx)("div",{className:"dash-review-user-img",children:(0,h.jsx)("img",{src:"../assets/img/user1.png",alt:"",className:"w-100 h-100"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"leading-1 fw-bold text-white mb-2",children:"Jhon Doe"}),(0,h.jsxs)("div",{className:"d-flex gap-2",children:[(0,h.jsx)("i",{className:"fa fa-star text-white leading-1"}),(0,h.jsx)("i",{className:"fa fa-star text-white leading-1"}),(0,h.jsx)("i",{className:"fa fa-star text-white leading-1"}),(0,h.jsx)("i",{className:"fa fa-star text-white leading-1"}),(0,h.jsx)("i",{className:"fa fa-star leading-1"})]})]}),(0,h.jsx)("div",{className:"mt-4",children:(0,h.jsx)("h6",{className:"fs-4 fw-bold text-white mb-0",children:"4.9"})})]})})]})})))})})]})]})]}),(0,h.jsx)("div",{className:"modal fade popUp ",id:"popUp2","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,h.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,h.jsx)("div",{className:"modal-content",children:(0,h.jsx)("div",{className:"modal-body border-0 py-4 px-3",children:(0,h.jsxs)("div",{className:"popUp_main text-center",children:[(0,h.jsx)("img",{className:"main_icon",src:"../assets/img/reject_imgg.webp",alt:""}),(0,h.jsx)("h3",{children:"Are You sure, you want to delete?"}),(0,h.jsxs)("div",{className:"row mx-0 mt-4 mb-2",children:[(0,h.jsx)("div",{className:"col-6",children:(0,h.jsx)(c.N_,{className:"bg-main  status_accepted_bg w-100 d-block","data-bs-dismiss":"modal",to:"",onClick:()=>x(""),id:"popUpClose2",children:"No"})}),(0,h.jsx)("div",{className:"col-6",children:(0,h.jsx)("button",{className:"bg-custom-secondary status_accepted_bg w-100",onClick:()=>(async e=>{s(!0);const a=await(0,n.hG)(e);a.error?(s(!1),(0,r.S)(N,a.message,{timeout:3e3})):(s(!1),document.getElementById("popUpClose2").click(),(0,r.S)(N,a.message,{timeout:3e3}),b())})(a),disabled:e,children:e?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("span",{className:"me-2",children:"Wait"}),(0,h.jsx)(m.IN,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"18",visible:!0})]}):"Yes"})})]})]})})})})}),(0,h.jsx)("div",{className:"modal fade popUp ",id:"popUp","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,h.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,h.jsx)("div",{className:"modal-content",children:(0,h.jsx)("div",{className:"modal-body border-0 py-4 px-3",children:(0,h.jsxs)("div",{className:"form-design",children:[(0,h.jsx)("div",{className:"col-md-12",children:(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{className:"mb-2",children:"Give a Reason To Delcine User"}),(0,h.jsx)("textarea",{className:"form-control",name:"reason",id:"reason",value:j,onChange:e=>p(e.target.value),style:{height:"120px"}})]})}),(0,h.jsxs)("div",{className:"row mt-4 mb-2 text-center",children:[(0,h.jsx)("div",{className:"col-6",children:(0,h.jsx)(c.N_,{className:"bg-main  status_accepted_bg w-100 d-block","data-bs-dismiss":"modal",to:"",onClick:()=>{x(""),p("")},id:"popUpClose",children:"Cancel"})}),(0,h.jsx)("div",{className:"col-6",children:(0,h.jsx)("button",{className:"bg-custom-secondary status_accepted_bg status_declained_bg w-100",onClick:()=>_(a,"Declined"),disabled:e,children:e?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("span",{className:"me-2",children:"Wait"}),(0,h.jsx)(m.IN,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"18",visible:!0})]}):"Decline"})})]})]})})})})})]})}}}]);
//# sourceMappingURL=969.02ca253b.chunk.js.map